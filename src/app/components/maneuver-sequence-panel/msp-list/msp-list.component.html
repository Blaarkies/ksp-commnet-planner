<div class="list-layout">
  <div *ngFor="let checkpoint of missionCheckpoints; trackBy: getNode"
       [@height]>
    <cp-msp-edge *ngIf="checkpoint.edge"
                 [details]="checkpoint.edge"></cp-msp-edge>

    <cp-msp-node [details]="checkpoint.node"
                 (remove)="removeNode.emit(checkpoint)"
                 (update)="updateNode.emit(checkpoint)"></cp-msp-node>
  </div>

  <div [@height] *ngIf="missionCheckpoints.length" class="divider"></div>
</div>

<div class="destination-controls">
  <button mat-flat-button
          id="add-dv-mission-checkpoint-button"
          color="primary"
          [matTooltip]="'Add new checkpoint'"
          (click)="add.emit()">
    <mat-icon [svgIcon]="icons.AddMapMarker"></mat-icon>
  </button>

  <button mat-button
          id="clear-dv-mission-button"
          class="fix-disabled-color"
          color="warn"
          [matTooltip]="'Clear entire mission'"
          [disabled]="!missionCheckpoints.length"
          (click)="resetAll.emit()">
    <mat-icon [svgIcon]="icons.Delete"></mat-icon>
  </button>
</div>

<div class="totals-layout text-white" *ngIf="missionCheckpoints.length">
  <div>Total delta-v</div>
  <div>{{deltaVTotal}} m/s</div>

  <!--  <div>Minimum TWR required</div>-->
  <!--  <div>{{twrMinimum}}</div>-->
</div>

<div [@height]="!missionCheckpoints.length"
     class="text-mute empty-state-msp">
  No checkpoints selected. <br>
  Start by adding your <br>
  first checkpoint.
</div>
