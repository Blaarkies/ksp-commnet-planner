<svg class="overflow-visible position-absolute"
     *ngFor="let trajectory of trajectories; trackBy: getTrajectoryKey"
     [@animateFade]
     xmlns="http://www.w3.org/2000/svg">

  <path *ngIf="trajectory.b"
        [attr.stroke-width]="6"
        [attr.stroke]="'#fa0' + 'A'"
        fill="none"
        [attr.d]="'M '
        + scale * trajectory.a.location.x
        + ' '
        + scale * trajectory.a.location.y
         + 'A 1000.1 1000.1 0 0 0 '
         + scale * trajectory.b.location.x
         + ' '
         + scale * trajectory.b.location.y"
  />

  <foreignObject class="overflow-visible destination-marker"
                 width="100%"
                 height="100%"
                 [attr.x]="scale * trajectory.a.location.x"
                 [attr.y]="scale * trajectory.a.location.y - trajectory.a.size * .5 - 20">
    <mat-icon class="icon-map-marker" [svgIcon]="icons.MapMarker">
      <span class="trip-index" xmlns="http://www.w3.org/1999/xhtml">{{trajectory.sequence}}</span>
    </mat-icon>

  </foreignObject>

</svg>

<mat-icon class="icon-map-marker mouse-location-marker"
          *ngIf="isAddingDestination"
          [@animateFade]
          [style.left.px]="(mouseLocation$ | async).x"
          [style.top.px]="(mouseLocation$ | async).y"
          [svgIcon]="icons.AddMapMarker"></mat-icon>
