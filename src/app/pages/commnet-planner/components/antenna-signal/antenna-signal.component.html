<svg class="signal-line" xmlns="http://www.w3.org/2000/svg">
  <line
    [attr.stroke-width]="2"
    [attr.stroke]="colorTotalSig()"
    [attr.x1]="directX1Sig()"
    [attr.y1]="directY1Sig()"
    [attr.x2]="directX2Sig()"
    [attr.y2]="directY2Sig()"
  />

  @if (strengthRelaySig()) {
    <defs>
      <pattern
        [attr.id]="'pattern' + idSig()"
        patternUnits="userSpaceOnUse"
        width="10"
        height="10"
        [attr.patternTransform]="'rotate(' + angleDegSig() + ')'"
      >
        <line
          class="animate-data-travelling"
          x1="0" y1="2.5" x2="10" y2="2.5"
          [attr.stroke]="colorRelaySig()"
          stroke-width="5"
        ></line>
      </pattern>
    </defs>

    <line
      [attr.stroke-width]="3"
      [attr.stroke]="'url(#pattern' + idSig() + ')'"
      [attr.x1]="relayX1Sig()"
      [attr.y1]="relayY1Sig()"
      [attr.x2]="relayX2Sig()"
      [attr.y2]="relayY2Sig()"
    />
  }

  <foreignObject
    width="100%"
    height="100%"
    class="signal-strength"
    [attr.x]="textXSig()"
    [attr.y]="textYSig()"
  >
    @if (showTextSig()) {
      <span xmlns="http://www.w3.org/1999/xhtml" @fade class="distance-text">
      {{ strengthTotalSig() * 100 | number : '.0-0' }}%
      &nbsp;
      {{ displayDistanceSig() }}
      </span>
    }
  </foreignObject>
</svg>
